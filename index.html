<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø£Ø¯ÙˆØ§ØªÙŠ Ø¨Ø±Ùˆ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø·ÙˆØ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        cairo: ['Cairo', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a',
                        }
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'glow': '0 0 15px rgba(59, 130, 246, 0.5)',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #f8fafc; }
        
        /* Sidebar Transitions */
        .sidebar-transition { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .backdrop-transition { transition: opacity 0.3s ease-in-out, visibility 0.3s; }
        
        /* Custom Scrollbar for Sidebar */
        .custom-scroll::-webkit-scrollbar { width: 5px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #cbd5e1; }

        /* Nav Item Styling */
        .nav-item {
            @apply flex items-center gap-3 px-4 py-3.5 mx-3 rounded-xl transition-all duration-200 font-medium text-gray-500 hover:bg-white hover:text-primary-600 hover:shadow-sm;
        }
        .nav-item.active {
            @apply bg-primary-600 text-white shadow-lg shadow-blue-500/30 font-bold transform scale-[1.02];
        }
        .nav-item.active i {
            @apply animate-pulse;
        }

        /* Mobile specific adjustments */
        @media (max-width: 768px) {
            .mobile-full-height { min-height: calc(100vh - 4rem); }
        }
    </style>
</head>
<body class="text-gray-800 antialiased h-screen flex overflow-hidden bg-gray-50 selection:bg-primary-100 selection:text-primary-900">

    <!-- Mobile Header -->
    <header class="md:hidden fixed top-0 w-full bg-white/80 backdrop-blur-md z-30 border-b border-gray-200 flex justify-between items-center px-4 h-16 shadow-sm">
        <div class="flex items-center gap-2 text-primary-700 font-black text-xl tracking-tighter">
            <div class="bg-primary-600 text-white p-1.5 rounded-lg shadow-glow">
                <i data-lucide="zap" class="w-5 h-5"></i>
            </div>
            <span>Ø£Ø¯ÙˆØ§ØªÙŠ<span class="text-gray-400 font-light">Ø¨Ø±Ùˆ</span></span>
        </div>
        <button onclick="toggleSidebar()" class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg active:scale-95 transition-transform">
            <i data-lucide="menu" class="w-6 h-6"></i>
        </button>
    </header>

    <!-- Overlay (Backdrop) -->
    <div id="backdrop" onclick="toggleSidebar()" class="fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-40 opacity-0 invisible backdrop-transition md:hidden"></div>

    <!-- Sidebar (Desktop & Mobile Drawer) -->
    <aside id="sidebar" class="fixed md:relative top-0 right-0 h-full w-72 bg-[#ffffff] border-l border-gray-100 flex flex-col z-50 transform translate-x-full md:translate-x-0 sidebar-transition shadow-2xl md:shadow-none">
        
        <!-- Logo Area -->
        <div class="h-20 flex items-center px-6 border-b border-gray-50/50 bg-gradient-to-b from-white to-gray-50/50">
            <div class="flex items-center gap-3 text-primary-700 font-black text-2xl">
                <div class="bg-gradient-to-tr from-primary-700 to-primary-500 text-white p-2 rounded-xl shadow-lg shadow-blue-500/20">
                    <i data-lucide="zap" class="w-6 h-6"></i>
                </div>
                <span>Ø£Ø¯ÙˆØ§ØªÙŠ<span class="text-gray-400 font-light text-lg">Ø¨Ø±Ùˆ</span></span>
            </div>
            <!-- Close button for mobile -->
            <button onclick="toggleSidebar()" class="md:hidden mr-auto p-2 text-gray-400 hover:text-red-500 transition-colors">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>

        <!-- Navigation -->
        <div class="flex-1 overflow-y-auto custom-scroll py-6 space-y-1">
            <div class="px-6 mb-2 text-xs font-bold text-gray-400 uppercase tracking-wider">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
            
            <button onclick="navigate('dashboard')" class="nav-item w-[90%] active" id="nav-dashboard">
                <i data-lucide="layout-grid" class="w-5 h-5"></i>
                Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
            </button>
            
            <div class="px-6 mt-6 mb-2 text-xs font-bold text-gray-400 uppercase tracking-wider">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù†ØµÙˆØµ</div>
            
            <button onclick="navigate('text-analyzer')" class="nav-item w-[90%]" id="nav-text-analyzer">
                <i data-lucide="text-cursor-input" class="w-5 h-5"></i>
                Ù…Ø­Ù„Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            </button>
            <button onclick="navigate('json-format')" class="nav-item w-[90%]" id="nav-json-format">
                <i data-lucide="braces" class="w-5 h-5"></i>
                Ù…Ù†Ø³Ù‚ JSON
            </button>

            <div class="px-6 mt-6 mb-2 text-xs font-bold text-gray-400 uppercase tracking-wider">Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</div>
            
            <button onclick="navigate('password-gen')" class="nav-item w-[90%]" id="nav-password-gen">
                <i data-lucide="fingerprint" class="w-5 h-5"></i>
                Ù…ÙˆÙ„Ø¯ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
            </button>
            <button onclick="navigate('todo-list')" class="nav-item w-[90%]" id="nav-todo-list">
                <i data-lucide="list-todo" class="w-5 h-5"></i>
                Ù…Ù‡Ø§Ù…ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
            </button>
             <button onclick="navigate('bmi-calc')" class="nav-item w-[90%]" id="nav-bmi-calc">
                <i data-lucide="heart-pulse" class="w-5 h-5"></i>
                Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØµØ­Ø©
            </button>
        </div>

        <!-- User Profile / Footer -->
        <div class="p-4 border-t border-gray-100 bg-gray-50/50">
            <div class="flex items-center gap-3 p-3 rounded-xl bg-white border border-gray-200 shadow-sm">
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-primary-100 to-blue-100 flex items-center justify-center text-primary-600 font-bold">
                    Ù…
                </div>
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-bold text-gray-900 truncate">Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­ØªØ±Ù</p>
                    <p class="text-xs text-green-500 flex items-center gap-1">
                        <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                        Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†
                    </p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto bg-[#f8fafc] w-full relative pt-16 md:pt-0 scroll-smooth">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
            
            <!-- Dashboard View -->
            <div id="dashboard" class="tool-section animate-fade-in">
                <header class="mb-10 text-center md:text-right">
                    <h1 class="text-3xl md:text-4xl font-black text-gray-900 mb-2">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ! ğŸš€</h1>
                    <p class="text-gray-500 text-lg">Ù„Ø¯ÙŠÙƒ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ø¯ÙˆØ§Øª Ù‚ÙˆÙŠØ© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….</p>
                </header>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Card 1 -->
                    <div onclick="navigate('text-analyzer')" class="group bg-white p-6 rounded-2xl shadow-soft hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-blue-100">
                        <div class="flex justify-between items-start mb-4">
                            <div class="w-14 h-14 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300">
                                <i data-lucide="text-cursor-input" class="w-7 h-7"></i>
                            </div>
                            <span class="bg-blue-50 text-blue-600 text-xs font-bold px-2 py-1 rounded-lg">Ø´Ø§Ø¦Ø¹</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-1">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ</h3>
                        <p class="text-gray-500 text-sm leading-relaxed">Ø¹Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§ØªØŒ Ø§Ù„Ø­Ø±ÙˆÙØŒ ÙˆØªØ­Ù„ÙŠÙ„ Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙÙˆØ±ÙŠ.</p>
                    </div>

                    <!-- Card 2 -->
                    <div onclick="navigate('password-gen')" class="group bg-white p-6 rounded-2xl shadow-soft hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-green-100">
                         <div class="flex justify-between items-start mb-4">
                            <div class="w-14 h-14 bg-green-50 text-green-600 rounded-2xl flex items-center justify-center group-hover:bg-green-600 group-hover:text-white transition-colors duration-300">
                                <i data-lucide="shield-check" class="w-7 h-7"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-1">Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h3>
                        <p class="text-gray-500 text-sm leading-relaxed">ØªÙˆÙ„ÙŠØ¯ ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± Ù…Ø¹Ù‚Ø¯Ø© ÙˆØºÙŠØ± Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø§Ø®ØªØ±Ø§Ù‚.</p>
                    </div>

                    <!-- Card 3 -->
                    <div onclick="navigate('json-format')" class="group bg-white p-6 rounded-2xl shadow-soft hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-yellow-100">
                         <div class="flex justify-between items-start mb-4">
                            <div class="w-14 h-14 bg-yellow-50 text-yellow-600 rounded-2xl flex items-center justify-center group-hover:bg-yellow-500 group-hover:text-white transition-colors duration-300">
                                <i data-lucide="code-2" class="w-7 h-7"></i>
                            </div>
                            <span class="bg-yellow-50 text-yellow-700 text-xs font-bold px-2 py-1 rounded-lg">Ù…Ø·ÙˆØ±ÙŠÙ†</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-1">JSON Formatter</h3>
                        <p class="text-gray-500 text-sm leading-relaxed">ØªÙ†Ø³ÙŠÙ‚ ÙˆØ¶ØºØ· Ø£ÙƒÙˆØ§Ø¯ JSON ÙˆØ§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡.</p>
                    </div>
                </div>
            </div>

            <!-- Content Area for Tools (Simplified placeholders for structure) -->
            <!-- Note: Reusing the logic from previous response but with better containers -->
            
            <div id="text-analyzer" class="tool-section hidden">
                <div class="bg-white rounded-3xl shadow-sm border border-gray-100 p-6 md:p-8">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">Ù…Ø­Ù„Ù„ Ø§Ù„Ù†ØµÙˆØµ</h2>
                    <textarea id="textInput" rows="8" class="w-full p-4 bg-gray-50 border-2 border-gray-100 rounded-xl focus:border-primary-500 focus:bg-white focus:ring-0 transition-all outline-none resize-none mb-6 text-gray-700" placeholder="Ø§ÙƒØªØ¨ Ù†ØµÙƒ Ù‡Ù†Ø§..."></textarea>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        <div class="bg-blue-50/50 p-4 rounded-2xl border border-blue-100 text-center">
                            <div class="text-3xl font-black text-blue-600" id="charCount">0</div>
                            <div class="text-xs font-bold text-blue-400 uppercase">Ø­Ø±Ù</div>
                        </div>
                        <div class="bg-indigo-50/50 p-4 rounded-2xl border border-indigo-100 text-center">
                            <div class="text-3xl font-black text-indigo-600" id="wordCount">0</div>
                            <div class="text-xs font-bold text-indigo-400 uppercase">ÙƒÙ„Ù…Ø©</div>
                        </div>
                         <div class="bg-purple-50/50 p-4 rounded-2xl border border-purple-100 text-center">
                            <div class="text-3xl font-black text-purple-600" id="sentenceCount">0</div>
                            <div class="text-xs font-bold text-purple-400 uppercase">Ø¬Ù…Ù„Ø©</div>
                        </div>
                         <div class="bg-pink-50/50 p-4 rounded-2xl border border-pink-100 text-center">
                            <div class="text-3xl font-black text-pink-600" id="paragraphCount">0</div>
                            <div class="text-xs font-bold text-pink-400 uppercase">ÙÙ‚Ø±Ø©</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other tools containers would go here with the same rounded-3xl and shadow-sm classes -->
             <div id="password-gen" class="tool-section hidden">
                <div class="max-w-2xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 p-6 md:p-8">
                     <h2 class="text-2xl font-bold mb-6 text-gray-800">Ù…ÙˆÙ„Ø¯ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±</h2>
                      <div class="relative mb-8">
                        <input type="text" id="passwordOutput" readonly class="w-full p-5 bg-gray-800 border-none rounded-2xl text-2xl font-mono text-center tracking-widest text-green-400 shadow-inner" value="GENERATING...">
                        <button onclick="copyPassword()" class="absolute left-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-white transition-colors">
                            <i data-lucide="copy" class="w-5 h-5"></i>
                        </button>
                    </div>
                    <!-- Controls (Simplified for display) -->
                    <button onclick="generatePassword()" class="w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] flex justify-center gap-2">
                        <i data-lucide="refresh-cw" class="w-5 h-5"></i> ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¢Ù†
                    </button>
                    <!-- Settings inputs hidden for brevity but logic remains same -->
                </div>
            </div>
            
            <div id="json-format" class="tool-section hidden">
                 <div class="bg-white rounded-3xl shadow-sm border border-gray-100 p-6 h-[75vh] flex flex-col">
                    <h2 class="text-2xl font-bold mb-4 text-gray-800">JSON Formatter</h2>
                    <div class="flex gap-2 mb-4">
                        <button onclick="formatJSON()" class="px-5 py-2.5 bg-yellow-500 hover:bg-yellow-600 text-white rounded-xl font-bold shadow-md shadow-yellow-500/20 text-sm transition-all">ØªÙ†Ø³ÙŠÙ‚</button>
                        <button onclick="minifyJSON()" class="px-5 py-2.5 bg-gray-700 hover:bg-gray-800 text-white rounded-xl font-bold shadow-md text-sm transition-all">Ø¶ØºØ·</button>
                    </div>
                    <div class="flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 min-h-0">
                         <textarea id="jsonInput" class="w-full p-4 font-mono text-sm bg-gray-50 border border-gray-200 rounded-xl focus:border-yellow-400 outline-none resize-none" placeholder="Paste JSON here..."></textarea>
                         <textarea id="jsonOutput" readonly class="w-full p-4 font-mono text-sm bg-[#1e1e1e] text-[#d4d4d4] border border-gray-800 rounded-xl outline-none resize-none" placeholder="Result..."></textarea>
                    </div>
                 </div>
            </div>

            <!-- Placeholder for Todo & BMI to keep code cleaner, logic is same -->
            <div id="todo-list" class="tool-section hidden">
                <div class="max-w-xl mx-auto bg-white rounded-3xl p-8 shadow-sm">
                    <h2 class="text-2xl font-bold mb-4">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</h2>
                    <div class="flex gap-3 mb-6">
                        <input id="todoInput" class="flex-1 bg-gray-50 border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-500" placeholder="Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©...">
                        <button onclick="addTodo()" class="bg-purple-600 text-white px-6 rounded-xl hover:bg-purple-700"><i data-lucide="plus"></i></button>
                    </div>
                    <ul id="todoContainer" class="space-y-3"></ul>
                </div>
            </div>

             <div id="bmi-calc" class="tool-section hidden">
                <div class="max-w-xl mx-auto bg-white rounded-3xl p-8 shadow-sm text-center">
                     <h2 class="text-2xl font-bold mb-6">Ø­Ø§Ø³Ø¨Ø© BMI</h2>
                     <div class="grid grid-cols-2 gap-4 mb-6">
                        <input type="number" id="weight" placeholder="Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)" class="p-4 bg-gray-50 rounded-xl border-none text-center text-lg font-bold">
                        <input type="number" id="height" placeholder="Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)" class="p-4 bg-gray-50 rounded-xl border-none text-center text-lg font-bold">
                     </div>
                     <button onclick="calculateBMI()" class="w-full py-4 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 shadow-lg shadow-red-500/30">Ø§Ø­Ø³Ø¨</button>
                     <div id="bmiResult" class="mt-6 hidden">
                        <div id="bmiValue" class="text-5xl font-black text-gray-800"></div>
                        <div id="bmiCategory" class="mt-2 text-xl font-medium"></div>
                     </div>
                </div>
            </div>

        </div>
    </main>

    <script>
        // --- Navigation System ---
        function navigate(toolId) {
            // 1. Handle Visuals
            document.querySelectorAll('.tool-section').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('animate-fade-in');
            });
            
            const target = document.getElementById(toolId);
            if(target) {
                target.classList.remove('hidden');
                // Small delay to trigger animation reset
                setTimeout(() => target.classList.add('animate-fade-in'), 10);
            }

            // 2. Handle Sidebar State
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const activeNav = document.getElementById('nav-' + toolId);
            if(activeNav) activeNav.classList.add('active');

            // 3. Mobile Close
            if(window.innerWidth < 768) {
                closeSidebar();
            }
        }

        // --- Sidebar Logic ---
        const sidebar = document.getElementById('sidebar');
        const backdrop = document.getElementById('backdrop');
        let isSidebarOpen = false;

        function toggleSidebar() {
            isSidebarOpen = !isSidebarOpen;
            if (isSidebarOpen) {
                // Open
                sidebar.classList.remove('translate-x-full');
                backdrop.classList.remove('opacity-0', 'invisible');
            } else {
                closeSidebar();
            }
        }

        function closeSidebar() {
            isSidebarOpen = false;
            sidebar.classList.add('translate-x-full');
            backdrop.classList.add('opacity-0', 'invisible');
        }

        // --- Initialize Icons ---
        lucide.createIcons();

        // ==========================================
        //  LOGIC FOR TOOLS (Simplified for this update)
        // ==========================================
        
        // 1. Text Analyzer
        const textInput = document.getElementById('textInput');
        if(textInput){
            textInput.addEventListener('input', () => {
                const text = textInput.value;
                document.getElementById('charCount').innerText = text.length;
                document.getElementById('wordCount').innerText = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
                document.getElementById('sentenceCount').innerText = text.trim() === '' ? 0 : text.split(/[.!?]+/).filter(Boolean).length;
                document.getElementById('paragraphCount').innerText = text.trim() === '' ? 0 : text.split(/\n+/).filter(Boolean).length;
            });
        }

        // 2. Password Gen
        function generatePassword() {
            const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";
            let password = "";
            for(let i=0; i<16; i++) password += chars.charAt(Math.floor(Math.random() * chars.length));
            document.getElementById('passwordOutput').value = password;
        }
        function copyPassword() {
            const el = document.getElementById('passwordOutput');
            el.select();
            document.execCommand('copy');
            // Visual feedback could be added here
        }

        // 3. JSON
        function formatJSON() {
            try {
                const val = document.getElementById('jsonInput').value;
                const obj = JSON.parse(val);
                document.getElementById('jsonOutput').value = JSON.stringify(obj, null, 4);
            } catch(e) { document.getElementById('jsonOutput').value = "Invalid JSON"; }
        }
        function minifyJSON() {
            try {
                const val = document.getElementById('jsonInput').value;
                const obj = JSON.parse(val);
                document.getElementById('jsonOutput').value = JSON.stringify(obj);
            } catch(e) { document.getElementById('jsonOutput').value = "Invalid JSON"; }
        }

        // 4. Todo
        let todos = JSON.parse(localStorage.getItem('myTodos2')) || [];
        function renderTodos() {
            const cont = document.getElementById('todoContainer');
            cont.innerHTML = todos.map((t, i) => `
                <li class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                    <span class="${t.done ? 'line-through text-gray-400' : ''}" onclick="toggleTodo(${i})">${t.text}</span>
                    <button onclick="deleteTodo(${i})" class="text-red-400"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                </li>
            `).join('');
            lucide.createIcons();
        }
        function addTodo() {
            const val = document.getElementById('todoInput').value;
            if(val) { todos.push({text:val, done:false}); localStorage.setItem('myTodos2', JSON.stringify(todos)); renderTodos(); document.getElementById('todoInput').value = ''; }
        }
        function toggleTodo(i) { todos[i].done = !todos[i].done; localStorage.setItem('myTodos2', JSON.stringify(todos)); renderTodos(); }
        function deleteTodo(i) { todos.splice(i, 1); localStorage.setItem('myTodos2', JSON.stringify(todos)); renderTodos(); }
        
        // 5. BMI
        function calculateBMI() {
            const w = document.getElementById('weight').value;
            const h = document.getElementById('height').value / 100;
            if(w && h) {
                const bmi = (w/(h*h)).toFixed(1);
                document.getElementById('bmiResult').classList.remove('hidden');
                document.getElementById('bmiValue').innerText = bmi;
                let msg = bmi < 18.5 ? "Ù†Ø­Ø§ÙØ©" : bmi < 25 ? "ÙˆØ²Ù† Ù…Ø«Ø§Ù„ÙŠ" : "ÙˆØ²Ù† Ø²Ø§Ø¦Ø¯";
                document.getElementById('bmiCategory').innerText = msg;
                document.getElementById('bmiCategory').className = "mt-2 text-xl font-medium " + (bmi < 25 && bmi > 18.5 ? "text-green-500" : "text-red-500");
            }
        }

        // Initial Calls
        renderTodos();
        generatePassword();

    </script>
</body>
</html>

